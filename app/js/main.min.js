document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".hero__slider");e&&(new Swiper(e,{slidesPerView:1,spaceBetween:0,centeredSlides:!0,watchOverflow:!0,loop:!0,speed:600,effect:"fade",fadeEffect:{crossFade:!0},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),1==$(".hero__slider .swiper-slide").length&&($(".hero__slider .swiper-wrapper").addClass("disabled"),$(".hero__slider .swiper-buttons").addClass("disabled")));const t=document.querySelector(".clients__slider");if(t){var o=new Swiper(t,{slidesPerView:"auto",spaceBetween:10,slidesPerGroup:1,speed:600,loop:!0,init:!1,breakpoints:{769:{slidesPerView:3,spaceBetween:20}},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const e=document.querySelectorAll(".clients__slide");if(e.length>3){const t=e.length;for(let o=0;o<t;++o){const t=e[o].cloneNode(!0);e[o].parentNode.append(t),t.classList.add("clone")}}document.querySelectorAll(".clients__slide").length<=3&&($(".clients .swiper-wrapper").addClass("disabled"),$(".clients .swiper-buttons").addClass("disabled")),o.init()}const s=document.querySelector(".work__items");s&&new Swiper(s,{slidesPerView:"auto",slidesPerGroup:1,watchOverflow:!0,speed:600,breakpoints:{600:{slidesPerView:6}}});const n=document.querySelector(".mission__slider");var r,a;n&&(new Swiper(n,{slidesPerView:1,slidesPerGroup:1,spaceBetween:0,centeredSlides:!0,watchOverflow:!0,loop:!0,speed:600,effect:"fade",fadeEffect:{crossFade:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),1==$(".mission__slider .swiper-slide").length&&($(".mission__slider .swiper-wrapper").addClass("disabled"),$(".mission__slider .swiper-buttons").addClass("disabled"))),r=document.querySelectorAll(".accordion"),a=document.getElementsByClassName("accordion-active"),Array.from(r).forEach((function(e,t,o){e.addEventListener("click",(function(e){a.length>0&&a[0]!==this&&a[0].classList.remove("accordion-active"),this.classList.toggle("accordion-active"),ScrollTrigger.refresh()}))})),function(){const e=document.querySelector(".burger"),t=document.querySelector(".menu"),o=document.querySelector(".menu__close"),s=document.querySelector(".menu__overlay"),n=(document.querySelectorAll(".menu__list a"),()=>{e.classList.remove("burger--opened"),t.classList.remove("menu--opened"),c.start()});e.addEventListener("click",(()=>{const o=e.classList.toggle("burger--opened");t.classList.toggle("menu--opened",o),c.stop()})),[o,s].forEach((e=>e.addEventListener("click",n))),document.addEventListener("click",(o=>{t.contains(o.target)||e.contains(o.target)||n()})),document.querySelectorAll(".menu__list a").forEach((e=>e.addEventListener("click",n)))}(),function(){if(document.querySelector(".modal__btn")){var e=document.querySelectorAll(".modal__close-btn"),t=document.querySelectorAll(".modal__btn");Array.from(t,(t=>{t.addEventListener("click",(t=>{let o=document.getElementsByClassName("open");o.length>0&&o[0]!==this&&o[0].classList.remove("open");let s=t.target.getAttribute("data-id");if(!s)return;document.getElementById(s).classList.add("open"),document.body.classList.add("no-scroll");let n=t.target.getAttribute("data-title");n&&(document.getElementById("modal-title").innerHTML=n);let r=t.target.getAttribute("data-text");r&&(document.getElementById("modal-text").innerHTML=r),Array.from(e,(e=>{e.addEventListener("click",(e=>{document.getElementById(s).classList.remove("open"),document.body.classList.remove("no-scroll")})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.getElementById(s).classList.remove("open"),document.body.classList.remove("no-scroll"))})),document.querySelector(".modal.open .modal__box").addEventListener("click",(e=>{e._isClickWithInModal=!0})),document.getElementById(s).addEventListener("click",(e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),document.body.classList.remove("no-scroll"))}))}))}))}))}}(),gsap.registerPlugin(ScrollTrigger);const c=new Lenis({anchors:{offset:-100}});if(c.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{c.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),document.querySelectorAll('[data-splitting="words"]').forEach((e=>{const t=e.querySelectorAll("h1"),o=e.querySelectorAll("h2");new SplitType(t,{types:"words, words"}),new SplitType(o,{types:"words, words"})})),document.querySelectorAll('[data-animation="reveal"]').forEach((e=>{const t=e.querySelectorAll("div.word"),o=gsap.timeline({paused:!0});o.from(t,{opacity:0,y:"30",duration:.4,ease:"power1.out",stagger:{amount:.6}},0).to(t,{opacity:1,duration:.4,stagger:{amount:.6}},0),m(e,o)})),document.querySelector(".component")){const e=document.querySelector(".component--1"),t=document.querySelector(".component--2"),o=document.querySelector(".component--3"),s=document.querySelector(".component--4"),n=e.querySelector(".component__item"),r=t.querySelector(".component__item"),a=o.querySelector(".component__item"),c=s.querySelector(".component__item"),l=document.querySelector(".hero");gsap.from(n,{opacity:1,y:-500,duration:.6,delay:.2,scrollTrigger:{trigger:l,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}}),gsap.from(r,{opacity:1,y:-1200,duration:.6,delay:.8,scrollTrigger:{trigger:l,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}}),gsap.from(a,{opacity:1,y:-1200,duration:.6,delay:.8,scrollTrigger:{trigger:l,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}}),gsap.from(c,{opacity:1,y:1200,duration:.6,delay:.2,scrollTrigger:{trigger:l,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}})}const l=document.querySelector(".hero"),i=document.querySelectorAll(".hero__title");for(let e=0;e<i.length;e++){const t=new SplitType(i[e],{types:"lines, words"}),o=gsap.timeline({paused:!0});o.from(t.words,{opacity:0,x:-100,duration:.6,delay:.6,stagger:{amount:.6},scrollTrigger:{trigger:l,start:"top 80%",end:"bottom 20%",toggleActions:"play none none none"}},0).to(t.words,{opacity:1,duration:.6,delay:.6,stagger:{amount:.6}},0),m(i[e],o)}function d(){document.querySelectorAll('[data-animation="parallax"]').forEach((e=>{gsap.fromTo(e,{y:"-10%"},{y:"10%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})})),document.querySelectorAll('[data-animation="parallax-img"]').forEach((e=>{const t=e.querySelector("img");gsap.fromTo(t,{y:"-5%"},{y:"5%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})}))}function m(e,t,o="top 90%"){ScrollTrigger.create({trigger:e,start:"top bottom",onLeaveBack:()=>{t.progress(1),t.pause()}}),ScrollTrigger.create({trigger:e,start:o,onEnter:()=>t.play()})}document.querySelectorAll('[data-animation="fadeUp"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,y:"80",duration:.8,ease:"power1.out",stagger:{amount:.8}},0).to(e,{opacity:1,duration:.8,stagger:{amount:.8}},0),m(e,t)})),window.innerWidth>=769&&d(),window.addEventListener("resize",(function(){window.innerWidth>=769&&d()}),!0);const u=document.querySelectorAll(".work__slide"),p=document.getElementsByClassName("work__slide-active");if(u.forEach((e=>{e!==u[0]&&(e.addEventListener("mouseover",(function(){p.length>0&&p[0]!==this&&p[0].classList.remove("work__slide-active"),this.classList.add("work__slide-active")})),e.addEventListener("mouseout",(function(){u[0].classList.add("work__slide-active"),this.classList.remove("work__slide-active")})))})),"1"!==("; "+document.cookie).split("; COOKIE_ACCEPT=").pop().split(";")[0]){const e=document.getElementById("warning-plate");e&&(e.style.display="block")}if(document.getElementById("first-section")){const e=document.getElementById("first-section"),t=document.getElementById("footer"),o=e.offsetHeight,s=document.getElementById("plate"),n="show";window.addEventListener("scroll",(function(){const e=window.pageYOffset,r=document.body.offsetHeight-t.offsetHeight-window.innerHeight;e>o&&e<r?s.classList.add(n):s.classList.remove(n)}))}!function(){const e=document.querySelector(".header"),t=(document.querySelector(".header__logo"),document.querySelector(".hero")),o=()=>window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",(()=>{t?(o()>t.offsetHeight?e.classList.add("out"):e.classList.remove("out"),o()>150?e.classList.add("change"):e.classList.remove("change"),o()>30?e.classList.add("hide"):e.classList.remove("hide")):o()>0?e.classList.add("out"):e.classList.remove("out")}))}();const g=document.querySelector("#clear"),f=g.parentNode,y=f.querySelector(".form-file-input"),v=f.querySelector(".form-file-text");g.addEventListener("click",(function(){y.value="",v.innerHTML="Прикрепить техническое задание",g.style.display="none"})),document.querySelector('input[type="file"]').addEventListener("change",(function(){v.innerHTML=this.files[0].name,g.style.display="block"})),window.addEventListener("scroll",(function(){const e=document.querySelector(".tasks");if(e){const t=document.querySelectorAll(".task__item");e.getBoundingClientRect().top<=0?(e.classList.add("fixed"),t.forEach(((t,o)=>{const s=window.scrollY-e.offsetHeight,n=Math.max(.5,1-s/500+.1*o);t.style.transform=`scale(${n}) translateY(${20*o}px)`}))):(e.classList.remove("fixed"),t.forEach((e=>{e.style.transform="scale(1) translateY(0)"})))}})),document.querySelector(".fancybox")&&Fancybox.bind('[data-fancybox="gallery"]',{})}));const tasks=document.querySelector(".tasks");if(tasks){var len=$(".tasks__item").length;$(window).on("resize load",(function(){if(window.innerWidth<"767"){scroll=0,inc=.06,inc2=.06,scale=1;document.documentElement.clientWidth;$(window).on("scroll",(function(){var e=$(".active"),t=document.querySelector(".active").clientHeight/200,o=e.offset().top-$(window).scrollTop(),s=window.pageYOffset;if(scroll>s){if(1!=e.attr("data-index")&&o>(t*=200)){var n=e.prev();e.removeClass("active"),n.addClass("active"),$(n).css("transform","scale(1)"),scale=.9}}else if(scroll<s){if(o<200&&e.attr("data-index")!=len){var r=e.next();e.removeClass("active"),r.addClass("active")}if(e.attr("data-index")==len&&o<=0){n=e.prev();$(n).css("transform","scale(0.90)"),scale=.9}}if(scroll>s){if(o>50){e=$(".active");var a=$(e).prev();scale+=inc2/.006,scale=Math.min(scale,1),$(a).css("transform","scale("+Math.max(1,scale)+")");var c=$(a).find(".over"),l=Math.max(0,1-o/t);c.css("opacity",l)}}else if(scroll<s){e=$(".active"),a=$(e).prev();scale-=.06*inc,1==$(a).attr("data-index")&&$(a).css("transform","scale("+Math.max(.83,scale)+")"),2==$(a).attr("data-index")&&$(a).css("transform","scale("+Math.max(.86,scale)+")"),3==$(a).attr("data-index")&&$(a).css("transform","scale("+Math.max(.89,scale)+")"),4==$(a).attr("data-index")&&$(a).css("transform","scale("+Math.max(.92,scale)+")");c=$(a).find(".over"),l=Math.min(.6,o/t+.02);c.css("opacity",l)}if(o<0){n=e.prev();$(n).css("transform","scale(0.90)"),scale=.9}scroll=s}))}else{scroll=0,inc=.006,inc2=.008,scale=1;document.documentElement.clientWidth;$(window).on("scroll",(function(){var e=$(".active"),t=tasks.querySelector(".active").clientHeight/200,o=e.offset().top-$(window).scrollTop()-130,s=window.pageYOffset;if(scroll>s){if(1!=e.attr("data-index")&&o>(t*=200)){var n=e.prev();e.removeClass("active"),n.addClass("active"),$(n).css("transform","scale(1)"),scale=.92}}else if(scroll<s){if(o<t&&e.attr("data-index")!=len){var r=e.next();e.removeClass("active"),r.addClass("active"),1!==scale&&(scale=1)}if(e.attr("data-index")==len&&o<=0){n=e.prev();$(n).css("transform","scale(0.92)"),scale=.92}}if(scroll>s){e=$(".active");var a=$(e).prev();scale+=inc2,scale=Math.min(scale,1),$(a).css("transform","scale("+Math.max(1,scale)+")");var c=$(a).find(".over"),l=Math.max(0,1-o/t);c.css("opacity",l)}else if(scroll<s){e=$(".active"),a=$(e).prev();scale-=inc,$(a).css("transform","scale("+Math.max(.9,scale)+")");c=$(a).find(".over"),l=Math.min(.6,o/t);c.css("opacity",l)}if(o<0){n=e.prev();$(n).css("transform","scale(0.92)"),scale=.92}scroll=s}))}}))}function checkCookies(){document.cookie="COOKIE_ACCEPT=1;path='/';expires:"+new Date((new Date).getTime()+31536e6).toUTCString(),document.getElementById("warning-plate").remove()}